<!doctype html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>Bootstrap demo</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-GLhlTQ8iRABdZLl6O3oVMWSktQOp6b7In1Zl3/Jr59b6EGGoI1aFkw7cmDA6j6gD" crossorigin="anonymous">
  </head>
  
  
  
  <body>
    <main class="container">
        <h1>Registreer</h1>
        <p class="lead">Meld je aan bij Anoroc Services, wij beschermen jouw software tegen malware!</p>
        <div class="row g-5">
            <div class="col-md-8">
                <form action="#" method="post" onsubmit="return validateForm()">
                  <div class="row g-3">
                    <div class="col-sm-4">
                      <label for="voornaam" class="form-label">Voornaam</label>
                      <input type="text" class="form-control" id="voornaam" placeholder="Uw voornaam">
                    </div>
                    <div class="col-sm-4">
                      <label for="naam" class="form-label">Naam</label>
                      <input type="text" class="form-control" id="naam" placeholder="Uw naam">
                    </div>
                  </div>
                  <div class="row g-3">
                    <div class="col-sm-4">
                      <label for="gebruikersnaam" class="form-label">Gebruikersnaam</label>
                      <input type="text" class="form-control" id="gebruikersnaam" placeholder="u911236">
                    </div>
                    <div class="col-sm-4">
                      <label for="email" class="form-label">E-mailadres</label>
                      <input type="email" class="form-control" id="email" placeholder="mail.example.be">
                    </div>
                  </div>
                  <div class="row g-3">
                    <div class="col-sm-4">
                      <label for="wachtwoord" class="form-label">Wachtwoord</label>
                      <input type="text" class="form-control" id="wachtwoord" placeholder="">
                      <p>Je wachtwoord moet minstens 8 tekens lang zijn</p>
                    </div>
                    <div class="col-sm-4">
                      <label for="herhaalWachtwoord" class="form-label">Herhaal wachtwoord</label>
                      <input type="text" class="form-control" id="herhaalWachtwoord" placeholder="">
                    </div>
                  </div>
                  <div class="row g-3">
                    <div class="col-sm-8">
                      <label for="adres" class="form-label">Adres</label>
                      <input type="text" class="form-control" id="adres" placeholder="Uw adres en huisnummer">
                    </div>
                  </div>
                  <div class="row g-3">
                    <div class="col-md-3">
                      <!-- https://codepen.io/JacobLett/pen/ErBqGE -->
                      <label for="land" class="form-label">Land</label>
                      <select name="land" id="land" class="form-select">
                        <option disabled selected="selected">Kies een land</option>
                        <option value="BE">België</option>
                        <option value="NL">Nederland</option>
                      </select>
                    </div>
                    
                    <div class="col-md-3">
                      <label for="provincie" class="form-label">Provincie</label>
                      <select id="provincie" class="form-select">
                        <div class="be" style="display:none;">
                          <option selected>Kies een provincie</option>
                          <option value="AN">Antwerpen</option>
                          <option value="LI">Limburg</option>
                          <option value="OV">Oost-Vlaanderen</option>
                          <option value="VB">Vlaams-Brabant</option>
                          <option value="WV">West-Vlaanderen</option>
                          <option value="HE">Henegouwen</option>
                          <option value="LU">Luik</option>
                          <option value="LUX">Luxemburg</option>
                          <option value="NA">Namen</option>
                          <option value="WB">Waals-Brabant</option>
                        </div>
                      </select>
                      <div class="nl" style="display:none;">
                        <option value="GR">Groningen</option>
                        <option value="FR">Friesland</option>
                        <option value="DR">Drenthe</option>
                        <option value="OV">Overijssel</option>
                        <option value="FL">Flevoland</option>
                        <option value="GE">Gelderland</option>
                        <option value="UT">Utrecht</option>
                        <option value="NH">Noord-Holland</option>
                        <option value="ZH">Zuid-Holland</option>
                        <option value="ZE">Zeeland</option>
                        <option value="NB">Noord-Brabant</option>
                        <option value="LIM">Limburg</option>
                      </div>
                      </select>
                    </div>
                    <div class="col-md-2">
                      <label for="postcode" class="form-label">Postcode</label>
                      <input type="text" class="form-select" id="postcode">
                    </div>
                  </div>
                  <hr style="width:65%; text-align:center; margin-left:0">
                  <div class="row g-3">
                    <div class="col-sm-4">
                      <h2>Hou me op de hoogte</h2>
                      <div class="form-check">
                        <input class="form-check-input" type="checkbox" value="" id="flexCheckDefault">
                        <label class="form-check-label" for="flexCheckDefault">
                          Inschrijven voor onze nieuwsbrief
                        </label>
                      </div>
                      <div class="form-check">
                        <input class="form-check-input" type="checkbox" value="" id="voorwaarden">
                        <label class="form-check-label" for="flexCheckDefault">
                          Ik ga akkoord met de algemene voorwaarden.
                        </label>
                      </div>
                    </div>

                    <div class="col-sm-4">
                      <h2>Betaling</h2>
                      <div class="form-check">
                        <input class="form-check-input" type="radio" name="flexRadioDefault" id="flexRadioDefault" checked>
                        <label class="form-check-label" for="flexRadioDefault">
                          <p id="paymentMethod">Banking app</p>
                        </label>
                      </div>
                      <div class="form-check">
                        <input class="form-check-input" type="radio" name="flexRadioDefault" id="flexRadioDefault">
                        <label class="form-check-label" for="flexRadioDefault">
                          <p id="paymentMethod">Overschrijving</p>
                        </label>
                      </div>
                      <div class="form-check">
                        <input class="form-check-input" type="radio" name="flexRadioDefault" id="flexRadioDefault">
                        <label class="form-check-label" for="flexRadioDefault">
                          <p id="paymentMethod">Visa card</p>
                        </label>
                      </div>
                      <div class="form-check">
                        <input class="form-check-input" type="radio" name="flexRadioDefault" id="flexRadioDefault">
                        <label class="form-check-label" for="flexRadioDefault">
                          <p id="paymentMethod">Paypal</p>
                        </label>
                      </div>
                    </div>
                  </div>
                  <hr style="width:65%; text-align:center; margin-left:0">
                  <div class="d-grid">
                    <button class="btn btn-primary col-8" type="button" id="submitButton">Wave your magic wand</button>
                    <p></p>
                  </div> 
                </form>
            </div>
            <div class="col-md">
                  <div class="alert alert-info" role="alert">
                    <h4>Betalingswijze</h4>
                    <p></p>
                  </div>
                  <div class="alert alert-success" role="alert">
                    <h4>Goed gedaan!</h4>
                    <p>Aww yeah, je werd geregistreerd</p>
                  </div>
                  <div id="error-alert" class="alert alert-danger" style="display: none;" role="alert">
                    <h4>Yikes, errors..</h4>
                    <p></p>
                  </div>
            </div>
        </div>
    </main>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/js/bootstrap.bundle.min.js" integrity="sha384-w76AqPfDkMBDXo30jS1Sgez6pr3x5MlQ1ZAGC+nuZB+EYdgRZgiwxhTBTkF7CXvN" crossorigin="anonymous"></script>
    
    <script>
      
      let submitButton = document.getElementById('submitButton')
      submitButton.addEventListener('click', () => {validateForm();
      });
      function validateForm() {
      console.log("validateForm called"); 
      const errors = [];      

      checkEmptyField("voornaam", "voornaam", errors, "danger");
      checkEmptyField("naam", "naam", errors, "danger");
      checkEmptyField("gebruikersnaam", "gebruikersnaam", errors, "danger");
      checkEmptyField("adres", "adres", errors, "danger");
      checkEmptyFieldLandField("land", "land", errors, "danger");
      checkEmptyFieldLandField("provincie", "provincie", errors, "danger");
      validateEmail("email", "E-mailadres", errors, "danger");
      validatePassword("wachtwoord", "wachtwoord", errors, "danger");
      validateRepeatPassword("herhaalWachtwoord", "herhaal wachtwoord", errors, "danger");
      checkPC("postcode", "postcode", errors, "danger");
      validatePayment("paymentMethod");
      validateTerms("voorwaarden", "voorwaarden", errors, "danger");

      if (errors.length > 0) {
    const errorMessage = "<ul class='list-unstyled'><li>" + errors.join("</li><li>") + "</li></ul>";
    const alertBox = document.getElementById("error-alert");
    alertBox.innerHTML = errorMessage;
    alertBox.style.display = "block";
    return false;
  } else {
    return true;
  }
  }

// https://www.w3schools.com/howto/howto_js_validation_empty_input.asp

// function checkEmptyField(field, notification, errorArray, alertType) {
//   const value = document.getElementById(field).value.trim();
//   if (value === "") {
//     errorArray.push(`Het veld ${notification} is vereist.`);
//   }
// }

function checkEmptyField(field, notification, errorArray, alertType) {
  const value = document.getElementById(field).value.trim();

  if (value === "") {
    errorArray.push(`Het veld ${notification} is vereist.`);
  }
}

function checkEmptyFieldLandField(field, notification, errorArray, alertType) {
  const value = document.getElementById(field).value.trim();
  const dropdown = document.getElementById(field);
  const selectedValue = dropdown.options[dropdown.selectedIndex].value.trim();
  if (value === "" || dropdown.selectedIndex === 0) {
    errorArray.push(`Het veld ${notification} is vereist.`);
  }
}


// checked on https://regexr.com
function validateEmail(field, notification, errorArray, alertType) {
  const email = document.getElementById(field).value.trim();
  const emailRegex = /^[a-zA-Z0-9_]+([.-]?[a-zA-Z0-9_]+)*@[a-zA-Z0-9]+([.-]?[a-zA-Z0-9]+)*(\.[a-zA-Z0-9]{2,})+$/;
  if (email === "") {
    errorArray.push(`Het veld ${notification} is vereist.`);
    const alertDiv = document.createElement("div");
  }
  else if (!emailRegex.test(email)) {
    errorArray.push(`${notification} is niet correct.`);
  }
}


function validatePassword(field, notification, errorArray, alertType) {
  const value = document.getElementById(field).value.trim();
  if (value === "") {
    errorArray.push(`Het veld ${notification} is vereist.`);
  }

  if (value.length < 8) {
    errorArray.push(`Wachtwoord moet ten minste 8 tekens bevatten.`);
  }
}

function validateRepeatPassword(field, notification, errorArray, alertType) {
  const value = document.getElementById(field).value.trim();
  if (value === "") {
    errorArray.push(`Het veld ${notification} is vereist.`);
  }
  if (value.length < 8) {
    errorArray.push(`Herhaal wachtwoord moet ten minste 8 tekens bevatten.`);
  }

  if (validatePassword.value !== validateRepeatPassword.value) {
    errorArray.push(`Wachtwoorden komen niet overeen.`);
  }
}

function checkPC (field, notification, errorArray, alertType) {
  const value = document.getElementById(field).value.trim();
  if (value === "") {
    errorArray.push(`Het veld ${notification} is vereist.`);
  }

  if (value < 1000 || value > 9999) {
    errorArray.push(`De waarde van ${notification} moet tussen 1000 en 9999 liggen.`);
  }
}

// les DOM Manipulaties + 
function validatePayment(field) {
  const paymentMethod = document.querySelector('input[name="flexRadioDefault"]:checked + label #paymentMethod');
  if (paymentMethod) {
    const alertBox = document.querySelector(".alert-info");
  alertBox.querySelector("p").textContent = "Je betalingswijze is " + paymentMethod.textContent + ".";
  alertBox.style.display = "block";
  return true;
  }
}

function validateTerms(field, notification, errorArray, alertType) {
  const voorwaarden = document.querySelector('input#voorwaarden:checked');
  if (!voorwaarden) {
    // Display a danger alert
    errorArray.push(`Je moet de algemene ${notification} accepteren.`);
  }
}


// Hide the ALERT notifications via script
window.addEventListener("load", function() {
  console.log("window loaded");
  const alerts = document.querySelectorAll(".alert");
  alerts.forEach(alert => {
    alert.style.display = "none";
  });
});
    </script>

    <script>
      // https://codepen.io/JacobLett/pen/ErBqGE
// $(document).ready(function() {
//   // when the state dropdown changes
//   $("#land").change(function () {

//     // check land
//     if ($(this).val() == "BE") {
//       // België
//       $(".be").show();
//       $(".nl").hide();
//       $(".nl select").val("");
//     } else if ($(this).val() == "NL") {
//       // Nederland
//       $(".be").hide();
//       $(".nl").show();
//       $(".be select").val("");
//     }
//   }); // on country select change END
//   // document ready  
// });
</script>

</body>
</html>